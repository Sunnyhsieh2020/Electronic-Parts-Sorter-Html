<!--<!doctype html>-->

<!--&lt;!&ndash; 調顏色可在字前面調，或在一開始集中寫顏色&ndash;&gt;-->
<!--<html lang="en">-->
<!--<head>-->
<!--    &lt;!&ndash; Required meta tags 這個符號是html的註釋&ndash;&gt;-->
<!--    <meta charset="utf-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1">  &lt;!&ndash; 正常比例&ndash;&gt;  &lt;!&ndash; intergry:類似密碼，可以加密文件&ndash;&gt;-->

<!--    &lt;!&ndash; Bootstrap CSS &ndash;&gt;&lt;!&ndash;.navbar 去找class .navbar-brand:在navbar裡面找img&ndash;&gt;-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"-->
<!--          rel="stylesheet"-->
<!--          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"-->
<!--          crossorigin="anonymous">-->

<!--    <title>Hello, world!</title>-->
<!--    <style>-->
<!--        .navbar .navbar-brand img { width: 40px; }-->
<!--        #img_test{width:40px;}-->
<!--        .mynavbar_bg{background-color:#eecc20;}-->
<!--        #carouseExampleControls .carousel-item{height:300px;}-->
<!--        #carouseExampleControls .carousel-item:nth-child(1) img{position:relative; top:-280px;}-->
<!--        #carouseExampleControls .carousel-item:nth-child(2) img{position:relative; top:-230px;}-->
<!--        #carouseExampleControls .carousel-item:nth-child(3) img{position:relative; top:-320px;}-->
<!--        .carousel-caption{text-align:right;}-->
<!--        .card{float:left;margin:20px 0px 20px 20px;}-->

<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<nav class="navbar navbar-expand-lg navbar-light bg-light">  &lt;!&ndash;class:樣式的類別     bg-light 是顏色(光亮的background)&ndash;&gt;-->
<!--    <div class="container-fluid">&lt;!&ndash;print 格子，表格&ndash;&gt;-->
<!--        <a class="navbar-brand" href="#"><img class="rounded-circle" src="{{ url_for('static', filename='test.jpg') }}" /></a>-->
<!--        &lt;!&ndash;        <td><img src="test.jpg" width="100"></td>&ndash;&gt;-->

<!--        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"-->
<!--                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">-->
<!--            <span class="navbar-toggler-icon"></span>-->
<!--        </button>-->
<!--        <div class="collapse navbar-collapse" id="navbarSupportedContent">-->
<!--            <ul class="navbar-nav me-auto mb-2 mb-lg-0">-->
<!--                <li class="nav-item">-->
<!--                    <a class="nav-link active" aria-current="page" href="#">Home</a>-->
<!--                </li>-->
<!--                <li class="nav-item">-->
<!--                    <a class="nav-link" href="#">Link</a>-->
<!--                </li>-->
<!--                <li class="nav-item dropdown">-->
<!--                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"-->
<!--                       data-bs-toggle="dropdown" aria-expanded="false">-->
<!--                        Dropdown-->
<!--                    </a>-->
<!--                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">&lt;!&ndash;drop down 有箭頭，就是下面有選項&ndash;&gt;-->
<!--                        <li><a class="dropdown-item" href="http://google.com">Menu</a></li>-->
<!--                        <li><a class="dropdown-item" href="#">Another action</a></li>-->
<!--                        <li>-->
<!--                            <hr class="dropdown-divider">-->
<!--                        </li> &lt;!&ndash;ul 試點點list，沒排序&ndash;&gt;-->
<!--                        <li><a class="dropdown-item" href="#">Something else here</a></li>-->
<!--                    </ul>-->
<!--                <li class="nav-item dropdown">-->
<!--                    <a class="nav-link dropdown-toggle" href="#" id="My list" role="button" data-bs-toggle="dropdown"-->
<!--                       aria-expanded="false">-->
<!--                        Mylist-->
<!--                    </a>-->
<!--                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">&lt;!&ndash;drop down 有箭頭，就是下面有選項&ndash;&gt;-->
<!--                        <li><a class="dropdown-item" href="http://google.com">Google</a></li>-->
<!--                        <li><a class="dropdown-item" href="http://baidu.com">Baidu</a></li>-->
<!--                        <li>-->
<!--                            <hr class="dropdown-divider">-->
<!--                        </li> &lt;!&ndash;ul 試點點list，沒排序&ndash;&gt;-->
<!--                        <li><a class="dropdown-item" href="#">Something else here</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--                <li class="nav-item">-->
<!--                    <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>-->
<!--                </li>-->
<!--            </ul>-->
<!--            <form class="d-flex">-->
<!--                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">-->
<!--                <button class="btn btn-danger" type="submit">Search</button>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
<!--</nav>-->

<!--<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">-->

<!--  <div class="carousel-inner">-->
<!--    <div class="carousel-item active">-->
<!--      <img src="https://cdn.shopify.com/s/files/1/0174/1800/products/a000073_front_1_93d36068-b342-4564-8cca-ae2feef26891_1024x1024.jpg?v=1530371789" class="d-block w-100" alt="..."> &lt;!&ndash;Alt 可以描述這個圖片，若今天圖片show不到，會show這段字&ndash;&gt;-->
<!--    </div>-->


<!--    <div class="carousel-item">-->

<!--      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTJnOf8-RpbZWovVwso4TphrAM-MPMkxg7E6g&usqp=CAU" class="d-block w-100" alt="...">-->

<!--    <div class="carousel-item">-->
<!--      <img src="https://5.imimg.com/data5/WW/QQ/MY-2301562/ethernet-module-500x500.jpg" class="d-block w-100" alt="...">-->
<!--    </div>-->
<!--  </div>-->
<!--  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-bs-slide="prev">-->
<!--    <span class="carousel-control-prev-icon" aria-hidden="true"></span>-->
<!--    <span class="visually-hidden">Previous</span>-->
<!--  </a>-->
<!--  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-bs-slide="next">-->
<!--    <span class="carousel-control-next-icon" aria-hidden="true"></span>-->
<!--    <span class="visually-hidden">Next</span>-->
<!--  </a>-->
<!--</div>-->
<!--<div class="card" style="width: 18rem;">-->
<!--  <img src="..." class="card-img-top" alt="...">-->
<!--  <div class="card-body">-->
<!--    <h5 class="card-title">Card title</h5>-->
<!--    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>-->
<!--    <a href="#" class="btn btn-primary">Go somewhere</a>-->
<!--  </div>-->
<!--</div>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"-->
<!--        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"-->
<!--        crossorigin="anonymous"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"-->
<!--        integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"-->
<!--        crossorigin="anonymous"></script>-->
<!--&lt;!&ndash;   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js"&ndash;&gt;-->
<!--&lt;!&ndash;           integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj"&ndash;&gt;-->
<!--&lt;!&ndash;           crossorigin="anonymous"></script>&ndash;&gt;-->

<!--</body>-->
<!--</html>-->
<!doctype html>

<!-- 調顏色可在字前面調，或在一開始集中寫顏色-->
<html lang="en">
<head>
    <!-- Required meta tags 這個符號是html的註釋-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">  <!-- 正常比例-->  <!-- intergry:類似密碼，可以加密文件-->

    <!-- Bootstrap CSS --><!--.navbar 去找class .navbar-brand:在navbar裡面找img-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
          crossorigin="anonymous">

    <title>Hello, world!</title>
    <style>
        .navbar .navbar-brand img { width: 40px; }
        #img_test{width:40px;}
        .mynavbar_bg{background-color:#eecc20;}
        #carouseExampleControls .carousel-item{height:300px;}
        #carouseExampleControls .carousel-item:nth-child(1) img{position:relative; top:-180px;}
        #carouseExampleControls .carousel-item:nth-child(2) img{position:relative; top:-130px;}
        #carouseExampleControls .carousel-item:nth-child(3) img{position:relative; top:-220px;}
        .carousel-capton{text-align:right;}
        .word{margin-left:150px; width: 490px; float: left;}
        .card { margin:25px 0px 25px 25px;width: 350px; float: left; }
        .like{float:right;}

    </style>

</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">  <!--class:樣式的類別     bg-light 是顏色(光亮的background)-->
    <div class="container-fluid"><!--print 格子，表格-->
        <a class="navbar-brand" href="#"><img class="rounded-circle" src="{{ url_for('static', filename='test.jpg') }}" /></a>
        <!--        <td><img src="test.jpg" width="100"></td>-->

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/"><h4><strong>Electronic Parts Sorter</strong></h4></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/logout">Logout</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false">
                        Type
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><!--drop down 有箭頭，就是下面有選項-->
                        <li><a class="dropdown-item" href="/arduinopart">Arduino</a></li>
                        <li><a class="dropdown-item" href="#">Control</a></li>
                        <li><a class="dropdown-item" href="#">Ethernet</a></li>
                    </ul>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="My list" role="button" data-bs-toggle="dropdown"
                       aria-expanded="false">My Favourite🧡
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown" id="shopping_list"><!--drop down 有箭頭，就是下面有選項-->
                    {% for bookmark in bookmark_list: %}
                        <li _item="{{bookmark[0]}}"><a href="{{bookmark[1]}}">{{bookmark[0]}}</a></li>
                    {% endfor %}
                    </ul>
                </li>

            </ul>
            <form class="d-flex">
            <form class="d-flex">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-danger" type="submit">Search</button>
            </form>
        </div>
    </div>
</nav>

<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">

  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{{ url_for('static', filename='imagearduino.png') }}" class="d-block w-100" alt="..."> <!--Alt 可以描述這個圖片，若今天圖片show不到，會show這段字-->
    </div>


    <div class="carousel-item">

      <img src="{{ url_for('static', filename='imageboard.png') }}" class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="{{ url_for('static', filename='imagedriverboard2.png') }}" class="d-block w-100" alt="...">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </a>
</div>
    {% for item in items %}

        <div class="card">
<!--            <p><a href="/detail?id={{ loop.index - 1 }}">{{ item.title }}</a></p>-->
            <p><img src="/static/{{ item.url }}" class="card-img-top" alt="..."></p>
            <p>{{ item.html|safe }}</p>
            <div class="card-body">
                <div class="like"><button type="button" _item="{{ item.title }}" class="btn btn-outline-danger " onclick="onclick_buy(event)">
                    {% if item.title in bookmark_names: %}
                        🧡
                    {% else: %}
                        🤍
                    {% endif %}
                </button></div> <!--onclick意思就是看有沒有click 若有就通知下面的功能--></form>
                <a href="/arduinoall?id={{ loop.index - 1 }}" class="btn btn-secondary"><strong>Click</strong></a>


        </div>

        </div>
    {% endfor %}

<!--<div class="card">-->
<!--            <img src="{{ url_for('static', filename='imagedriverboard.png') }}" class="card-img-top" alt="...">-->
<!--            <div class="card-body">-->
<!--                <h5 class="card-title">driver board</h5>-->
<!--                <p class="card-text">driver board introduction</p>-->
<!--                <a href="#" class="btn btn-primary">Click</a>-->
<!--                <div class="like"><button type="button" _item="driver board" class="btn btn-outline-danger" onclick="onclick_buy(event)">🤍</button></div> &lt;!&ndash;onclick意思就是看有沒有click 若有就通知下面的功能&ndash;&gt;-->

<!--            </div>-->
<!--        </div>-->
<!--<div class="card">-->
<!--            <img src="{{ url_for('static', filename='imagehighpowerdcdc.png') }}" class="card-img-top" alt="...">-->
<!--            <div class="card-body">-->
<!--                <h5 class="card-title">High Power DCDC</h5>-->
<!--                <p class="card-text">High Power DCDC introduction</p>-->
<!--                <a href="http://localhost:63342/Python_Matplotlib/try_demo_arduino.html?_ijt=36sts24kqemsos4prnuqb0rrn4" class="btn btn-primary">Click</a>-->
<!--                <div class="like"><button type="button" _item="high power dcdc" class="btn btn-outline-danger" onclick="onclick_buy(event)">🤍</button></div> &lt;!&ndash;onclick意思就是看有沒有click 若有就通知下面的功能&ndash;&gt;-->

<!--            </div>-->
<!--</div>-->
<!--<div class="card">-->
<!--            <img src="{{ url_for('static', filename='imagexbee.png') }}" class="card-img-top" alt="...">-->
<!--            <div class="card-body">-->
<!--                <h5 class="card-title">XBee</h5>-->
<!--                <p class="card-text">XBee introduction</p>-->
<!--                <a href="http://localhost:63342/Python_Matplotlib/try_demo_arduino.html?_ijt=36sts24kqemsos4prnuqb0rrn4" class="btn btn-primary">Click</a>-->
<!--                <div class="like"><button type="button" _item="xbee" class="btn btn-outline-danger" onclick="onclick_buy(event)">🤍</button></div> &lt;!&ndash;onclick意思就是看有沒有click 若有就通知下面的功能&ndash;&gt;-->

<!--            </div>-->
<!--</div>-->
<!--<div class="card">-->
<!--            <img src="{{ url_for('static', filename='imageautomaticbucks.png') }}" class="card-img-top" alt="...">-->
<!--            <div class="card-body">-->
<!--                <h5 class="card-title">Automatic Busks</h5>-->
<!--                <p class="card-text">Automatic Busks introduction</p>-->
<!--                <a href="/page2" class="btn btn-primary">Click</a>-->
<!--                    <div class="like"><button type="button" _item="Arduino" class="btn btn-outline-danger" onclick="onclick_buy(event)">🤍</button></div> &lt;!&ndash;onclick意思就是看有沒有click 若有就通知下面的功能&ndash;&gt;-->

<!--            </div>-->
<!--        </div>-->

<!--<div class="card">-->
<!--            <img src="{{ url_for('static', filename='imageboard.png') }}" class="card-img-top" alt="...">-->
<!--            <div class="card-body">-->
<!--                <h5 class="card-title">protoshield expanding board</h5>-->
<!--                <p class="card-text">protoshield expanding board arduino</p>-->
<!--                <a href="/page2" class="btn btn-primary">Click</a>-->
<!--                    <div class="like"><button type="button" _item="board" class="btn btn-outline-danger" onclick="onclick_buy(event)">🤍</button></div> &lt;!&ndash;onclick意思就是看有沒有click 若有就通知下面的功能&ndash;&gt;-->

<!--            </div>-->
<!--        </div>-->





<!--<div class="card">-->
<!--            <img src="{{ url_for('static', filename='imageautomaticbucks.png') }}" class="card-img-top" alt="...">-->
<!--            <div class="card-body">-->
<!--                <h5 class="card-title">LTC3780 Automatic Buck Boost</h5>-->
<!--                <p class="card-text">LTC3780 Automatic Buck Boost introduction</p>-->
<!--                <a href="http://localhost:63342/Python_Matplotlib/try_demo_arduino.html?_ijt=36sts24kqemsos4prnuqb0rrn4" class="btn btn-primary">Click</a>-->
<!--                <div class="like"><button type="button" _item="automaticbucks" class="btn btn-outline-danger" onclick="onclick_buy(event)">🤍</button></div> &lt;!&ndash;onclick意思就是看有沒有click 若有就通知下面的功能&ndash;&gt;-->

<!--            </div>-->
<!--</div>-->
<!--<div class="card">-->
<!--            <img src="{{ url_for('static', filename='imageboard.png') }}" class="card-img-top" alt="...">-->
<!--            <div class="card-body">-->
<!--                <h5 class="card-title">protoshield expanding board</h5>-->
<!--                <p class="card-text">protoshield expanding board introduction</p>-->
<!--                <a href="http://localhost:63342/Python_Matplotlib/try_demo_arduino.html?_ijt=36sts24kqemsos4prnuqb0rrn4" class="btn btn-primary">Click</a>-->
<!--                <div class="like"><button type="button" _item="board" class="btn btn-outline-danger" onclick="onclick_buy(event)">🤍</button></div> &lt;!&ndash;onclick意思就是看有沒有click 若有就通知下面的功能&ndash;&gt;-->

<!--            </div>-->
<!--</div>-->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
        integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"
        crossorigin="anonymous"></script>
<!--   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js"-->
<!--           integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj"-->
<!--           crossorigin="anonymous"></script>-->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
//        "Arduino uno":["Arduino Uno","/page2"]
    var item_link={
        {% for item in items %}
        "{{ item.title }}":["{{ item.title }}", "/detail?id={{ loop.index - 1 }}"],
        {% endfor %}
    };
    function onclick_buy(event){
        var button_type=event.target.innerHTML;
        var item_name=event.target.getAttribute("_item");
        var shopping=document.getElementById("shopping_list");
        //var item_link=event.target.getAttribute("_item_link");
        var key=event.target.getAttribute("_item");
        console.log(item_link);
        var link = "";
        for (var key in item_link) {
            console.log(item_link[key]);
            if (item_link[key][0] == item_name) {
                link = item_link[key][1];
                break;
            }
        }
        console.log(link);

        if(button_type.trim() == "🤍"){
            event.target.innerHTML ="🧡";
            console.log(item_link);
            //shopping.innerHTML += "<li><a href='"+item_link[key][1]+"'>"+item_link[key][0]+"</a></li>";
            shopping.innerHTML += `<li _item="${item_link[key][0]}"><a href="${item_link[key][1]}">${item_link[key][0]}</a></li>`;

            $.ajax({
                url: "/add_bookmark",
                data: {
                    id: item_name,
                    link: link
                },
                success: function(response) {
                    alert(response);
                }
            });

        }else{
          event.target.innerHTML="🤍";
          var item_name = event.target.getAttribute("_item");
          var target_item=null;
          var items=shopping.getElementsByTagName("li");
          for (var i = 0; i<items.length; i++){
            if(items[i].getAttribute("_item")==event.target.getAttribute("_item")){
                target_item=items[i];
                    break;
            }
          }
          shopping.removeChild(target_item);

            $.ajax({
                url: "remove_bookmark",
                data: {
                    id: item_name
                },
                success: function(response) {
                    alert(response);
                }
            });
        }
    }
</script>
</body>
</html>
